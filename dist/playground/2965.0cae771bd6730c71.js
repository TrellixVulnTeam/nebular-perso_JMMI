"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[2965],{2965:(B,h,e)=>{e.r(h),e.d(h,{OAuth2PlaygroundModule:()=>k});var l=e(6019),m=e(9133),y=e(4522),A=e(5082),f=e(6512),v=e(3582),b=e(7406),C=e(3203),r=e(4301),a=e(8805),g=e(3405),t=e(3668),p=e(3785),i=e(761);let O=(()=>{class o{constructor(n,u){this.authService=n,this.router=u,this.destroy$=new g.xQ,this.authService.authenticate("google").pipe((0,a.R)(this.destroy$)).subscribe(c=>{c.isSuccess()&&c.getRedirect()&&this.router.navigateByUrl(c.getRedirect())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p._),t.Y36(r.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["nb-playground-oauth2-callback"]],decls:3,vars:0,template:function(n,u){1&n&&(t.TgZ(0,"nb-layout"),t.TgZ(1,"nb-layout-column"),t._uU(2,"Authenticating..."),t.qZA(),t.qZA())},directives:[i.Aq,i.dP],encapsulation:2}),o})();var d=e(634);function T(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){return t.CHM(n),t.oxw().login()}),t._uU(1,"Sign In with Google"),t.qZA()}}function Z(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){return t.CHM(n),t.oxw().logout()}),t._uU(1,"Sign Out"),t.qZA()}}const x=[{path:"",component:(()=>{class o{constructor(n){this.authService=n,this.destroy$=new g.xQ,this.authService.onTokenChange().pipe((0,a.R)(this.destroy$)).subscribe(u=>{this.token=null,u&&u.isValid()&&(this.token=u)})}login(){this.authService.authenticate("google").pipe((0,a.R)(this.destroy$)).subscribe(n=>{})}logout(){this.authService.logout("google").pipe((0,a.R)(this.destroy$)).subscribe(n=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p._))},o.\u0275cmp=t.Xpm({type:o,selectors:[["nb-playground-auth"]],decls:11,vars:6,consts:[["nbButton","","status","success",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"nb-layout"),t.TgZ(1,"nb-layout-column"),t.TgZ(2,"nb-card"),t.TgZ(3,"nb-card-body"),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"json"),t.qZA(),t.YNc(9,T,2,0,"button",0),t.YNc(10,Z,2,0,"button",1),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.hij("Current User Authenticated: ",!!u.token,""),t.xp6(2),t.hij("Current User Token: ",t.lcZ(8,4,u.token),""),t.xp6(2),t.Q6J("ngIf",!u.token),t.xp6(1),t.Q6J("ngIf",u.token))},directives:[i.Aq,i.dP,d.As,d.yK,l.O5],pipes:[l.Ts],encapsulation:2}),o})()},{path:"callback",component:O}];let S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.Bz.forChild(x)],r.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,m.u5,y.JF,v.S.forRoot({strategies:[b.F.setup({name:"google",clientId:"806751403568-03376bvlin9n3rhid0cahus6ei3lc69q.apps.googleusercontent.com",clientSecret:"",authorize:{endpoint:"https://accounts.google.com/o/oauth2/v2/auth",responseType:C.aW.TOKEN,scope:"https://www.googleapis.com/auth/userinfo.profile",redirectUri:"https://akveo.github.io/nebular/example/oauth2/callback"},redirect:{success:"/example/oauth2"}})]}),A.z,f.B,S]]}),o})()}}]);