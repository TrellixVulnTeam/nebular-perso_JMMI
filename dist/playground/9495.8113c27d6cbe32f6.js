"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[9495],{5964:(I,M,r)=>{r.d(M,{d:()=>h,G:()=>C});var l=r(3668);let h=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac}),p})(),C=(()=>{class p{constructor(){this.supportsPrefix=!0,this.supportsSuffix=!0}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac}),p})()},3191:(I,M,r)=>{r.d(M,{h:()=>N});var l=r(3405),h=r(4099),C=r(8053),p=r(6658),y=r(8805),u=r(8580),e=r(5964),m=r(3668),A=r(8878),w=r(163);let N=(()=>{class b{constructor(g,c,F,Q,B){this.elementRef=g,this.focusMonitor=c,this.renderer=F,this.zone=Q,this.statusService=B,this.destroy$=new l.xQ,this.fieldSize="medium",this.status="basic",this.shape="rectangle",this._fullWidth=!1,this.status$=new h.X(this.status),this.size$=new h.X(this.fieldSize),this.focused$=new h.X(!1),this.disabled$=new h.X(!1),this.fullWidth$=new h.X(this.fullWidth)}get fullWidth(){return this._fullWidth}set fullWidth(g){this._fullWidth=(0,u.e)(g)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngDoCheck(){const g=this.elementRef.nativeElement.disabled;g!==this.disabled$.value&&this.disabled$.next(g)}ngOnChanges({status:g,fieldSize:c,fullWidth:F}){g&&this.status$.next(this.status),c&&this.size$.next(this.fieldSize),F&&this.fullWidth$.next(this.fullWidth)}ngOnInit(){this.focusMonitor.monitor(this.elementRef).pipe((0,C.U)(g=>!!g),(0,p.x)(()=>this.focusMonitor.stopMonitoring(this.elementRef)),(0,y.R)(this.destroy$)).subscribe(this.focused$)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"nb-transition")}))}ngOnDestroy(){this.destroy$.next()}get tiny(){return"tiny"===this.fieldSize}get small(){return"small"===this.fieldSize}get medium(){return"medium"===this.fieldSize}get large(){return"large"===this.fieldSize}get giant(){return"giant"===this.fieldSize}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get rectangle(){return"rectangle"===this.shape}get semiRound(){return"semi-round"===this.shape}get round(){return"round"===this.shape}}return b.\u0275fac=function(g){return new(g||b)(m.Y36(m.SBq),m.Y36(A.z),m.Y36(m.Qsj),m.Y36(m.R0b),m.Y36(w.Y))},b.\u0275dir=m.lG2({type:b,selectors:[["input","nbInput",""],["textarea","nbInput",""]],hostVars:34,hostBindings:function(g,c){2&g&&(m.Tol(c.additionalClasses),m.ekj("input-full-width",c.fullWidth)("size-tiny",c.tiny)("size-small",c.small)("size-medium",c.medium)("size-large",c.large)("size-giant",c.giant)("status-primary",c.primary)("status-info",c.info)("status-success",c.success)("status-warning",c.warning)("status-danger",c.danger)("status-basic",c.basic)("status-control",c.control)("shape-rectangle",c.rectangle)("shape-semi-round",c.semiRound)("shape-round",c.round))},inputs:{fieldSize:"fieldSize",status:"status",shape:"shape",fullWidth:"fullWidth"},features:[m._Bn([{provide:e.d,useExisting:b}]),m.TTD]}),b})()},2625:(I,M,r)=>{r.d(M,{n:()=>y});var l=r(5861),C=(r(3191),r(3668));let y=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=C.oAB({type:u}),u.\u0275inj=C.cJS({imports:[[l.P]]}),u})()},9495:(I,M,r)=>{r.r(M),r.d(M,{ChatModule:()=>lt});var l=r(6019),h=r(5861),C=r(6630),p=r(2625),y=r(3004),u=r(8580),e=r(3668),m=r(5427),A=r(3191),w=r(9133),N=r(5492),b=r(2563);function D(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"span",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).removeFile(o)}),e._uU(2,"\xd7"),e.qZA(),e.qZA()}if(2&s){const t=e.oxw().$implicit;e.Udp("background-image",t.urlStyle)}}function g(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"nb-icon",9),e.TgZ(2,"span",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).removeFile(o)}),e._uU(3,"\xd7"),e.qZA(),e.qZA()}}function c(s,n){if(1&s&&(e.ynx(0),e.YNc(1,D,3,2,"div",6),e.YNc(2,g,4,0,"div",7),e.BQk()),2&s){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.urlStyle),e.xp6(1),e.Q6J("ngIf",!t.urlStyle)}}function F(s,n){if(1&s&&(e.TgZ(0,"div",4),e.YNc(1,c,3,2,"ng-container",5),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.droppedFiles)}}function Q(s,n){if(1&s&&e._UZ(0,"nb-icon",13),2&s){const t=e.oxw(2);e.Q6J("icon",t.buttonIcon)}}function B(s,n){if(1&s&&e._uU(0),2&s){const t=e.oxw(2);e.Oqu(t.buttonTitle)}}function K(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().sendMessage()}),e.YNc(1,Q,1,1,"nb-icon",11),e.YNc(2,B,1,1,"ng-template",null,12,e.W1O),e.qZA()}if(2&s){const t=e.MAs(3),a=e.oxw();e.ekj("with-icon",!a.buttonTitle),e.Q6J("status",a.getButtonStatus()),e.xp6(1),e.Q6J("ngIf",!a.buttonTitle)("ngIfElse",t)}}let f=(()=>{class s{constructor(t,a){this.cd=t,this.domSanitizer=a,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new e.vpe,this.onInputChange=new e.vpe,this.fileOver=!1}onDrop(t){if(this.dropFiles&&(t.preventDefault(),t.stopPropagation(),this.fileOver=!1,t.dataTransfer&&t.dataTransfer.files))for(const a of t.dataTransfer.files){const o=a;if(this.imgDropTypes.includes(a.type)){const i=new FileReader;i.onload=x=>{o.src=x.target.result,o.urlStyle=this.domSanitizer.bypassSecurityTrustStyle(`url(${o.src})`),this.cd.detectChanges()},i.readAsDataURL(a)}this.droppedFiles.push(o)}}removeFile(t){const a=this.droppedFiles.indexOf(t);a>=0&&this.droppedFiles.splice(a,1)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.dropFiles&&(this.fileOver=!0)}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.dropFiles&&(this.fileOver=!1)}sendMessage(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])}setStatus(t){this.status!==t&&(this.status=t,this.cd.detectChanges())}getInputStatus(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"}getButtonStatus(){return this.getHighlightStatus()}getHighlightStatus(){return"basic"===this.status||"control"===this.status?"primary":this.status}onModelChange(t){this.onInputChange.emit(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(m.H7))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(t,a){1&t&&e.NdJ("drop",function(i){return a.onDrop(i)})("dragover",function(i){return a.onDragOver(i)})("dragleave",function(i){return a.onDragLeave(i)}),2&t&&e.ekj("file-over",a.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send",onInputChange:"onInputChange"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],[4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(t,a){1&t&&(e.YNc(0,F,2,1,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("focus",function(){return a.inputFocus=!0})("blur",function(){return a.inputFocus=!1})("mouseenter",function(){return a.inputHover=!0})("mouseleave",function(){return a.inputHover=!1})("ngModelChange",function(i){return a.message=i})("ngModelChange",function(i){return a.onModelChange(i)})("keyup.enter",function(){return a.sendMessage()}),e.qZA(),e.YNc(3,K,4,5,"button",3),e.qZA()),2&t&&(e.Q6J("ngIf",null==a.droppedFiles?null:a.droppedFiles.length),e.xp6(2),e.ekj("with-button",a.showButton),e.s9C("placeholder",a.fileOver?a.dropFilePlaceholder:a.messagePlaceholder),e.Q6J("status",a.getInputStatus())("ngModel",a.message),e.xp6(1),e.Q6J("ngIf",a.showButton))},directives:[l.O5,A.h,w.Fj,w.JJ,w.On,l.sg,N.f,b.D],encapsulation:2,changeDetection:0}),s})();var v=r(9814);let E=(()=>{class s{constructor(){this.customMessages=new Map}register(t,a){this.customMessages.set(t,a)}unregister(t){return this.customMessages.delete(t)}getInstance(t){return this.customMessages.get(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();function V(s,n){if(1&s&&(e.ynx(0),e._uU(1),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",t.initials," ")}}let R=(()=>{class s{constructor(){this.avatarClass=!0}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-avatar"]],hostVars:4,hostBindings:function(t,a){2&t&&(e.Udp("background-image",a.avatarStyle),e.ekj("avatar",a.avatarClass))},inputs:{initials:"initials",avatarStyle:"avatarStyle"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,a){1&t&&e.YNc(0,V,2,1,"ng-container",0),2&t&&e.Q6J("ngIf",!a.avatarStyle)},directives:[l.O5],encapsulation:2,changeDetection:0}),s})();function ee(s,n){if(1&s&&(e.TgZ(0,"p",2),e._uU(1),e.TgZ(2,"time"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij("",t.sender," "),e.xp6(2),e.Oqu(e.xi3(4,2,t.date,t.dateFormat))}}function te(s,n){if(1&s&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}let S=(()=>{class s{constructor(){this.dateFormat="shortTime"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-text"]],inputs:{sender:"sender",message:"message",date:"date",dateFormat:"dateFormat"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(t,a){1&t&&(e.YNc(0,ee,5,5,"p",0),e.YNc(1,te,2,1,"p",1)),2&t&&(e.Q6J("ngIf",a.sender||a.date),e.xp6(1),e.Q6J("ngIf",a.message))},directives:[l.O5],pipes:[l.uU],encapsulation:2,changeDetection:0}),s})();function se(s,n){if(1&s&&e._UZ(0,"nb-icon",7),2&s){const t=e.oxw().$implicit;e.Q6J("icon",t.icon)}}function ae(s,n){if(1&s&&e._UZ(0,"div"),2&s){const t=e.oxw().$implicit;e.Udp("background-image",t.urlStyle)}}function ne(s,n){if(1&s&&(e.TgZ(0,"a",4),e.YNc(1,se,1,1,"nb-icon",5),e.YNc(2,ae,1,2,"div",6),e.qZA()),2&s){const t=n.$implicit;e.Q6J("href",t.url,e.LSH),e.xp6(1),e.Q6J("ngIf",!t.urlStyle&&t.icon),e.xp6(1),e.Q6J("ngIf",t.urlStyle)}}function oe(s,n){if(1&s&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,ne,3,3,"a",3),e.qZA(),e.BQk()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.readyFiles)}}function ie(s,n){if(1&s&&e._UZ(0,"nb-icon",7),2&s){const t=e.oxw(2);e.Q6J("icon",t.readyFiles[0].icon)}}function re(s,n){if(1&s&&e._UZ(0,"div"),2&s){const t=e.oxw(2);e.Udp("background-image",t.readyFiles[0].urlStyle)}}function le(s,n){if(1&s&&(e.ynx(0),e.TgZ(1,"a",4),e.YNc(2,ie,1,1,"nb-icon",5),e.YNc(3,re,1,2,"div",6),e.qZA(),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("href",t.readyFiles[0].url,e.LSH),e.xp6(1),e.Q6J("ngIf",!t.readyFiles[0].urlStyle&&t.readyFiles[0].icon),e.xp6(1),e.Q6J("ngIf",t.readyFiles[0].urlStyle)}}let q=(()=>{class s{constructor(t,a){this.cd=t,this.domSanitizer=a,this.dateFormat="shortTime"}set files(t){this.readyFiles=(t||[]).map(a=>{const o=this.isImage(a);return Object.assign(Object.assign({},a),{urlStyle:o&&this.domSanitizer.bypassSecurityTrustStyle(`url(${a.url})`),isImage:o})}),this.cd.detectChanges()}isImage(t){const a=t.type;return!!a&&["image/png","image/jpeg","image/gif"].includes(a)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(m.H7))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-file"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat-message-text",0),e._uU(1),e.qZA(),e.YNc(2,oe,3,1,"ng-container",1),e.YNc(3,le,4,3,"ng-container",1)),2&t&&(e.Q6J("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)("message",a.message),e.xp6(1),e.hij(" ",a.message," "),e.xp6(1),e.Q6J("ngIf",(null==a.readyFiles?null:a.readyFiles.length)>1),e.xp6(1),e.Q6J("ngIf",1===(null==a.readyFiles?null:a.readyFiles.length)))},directives:[S,l.O5,l.sg,N.f],encapsulation:2,changeDetection:0}),s})();function ce(s,n){if(1&s&&(e.TgZ(0,"p",3),e._uU(1),e.TgZ(2,"time"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij("",t.sender," "),e.xp6(2),e.Oqu(e.xi3(4,2,t.date,t.dateFormat))}}let j=(()=>{class s{constructor(){this.dateFormat="shortTime"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-quote"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(t,a){1&t&&(e.YNc(0,ce,5,5,"p",0),e.TgZ(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"nb-chat-message-text",2),e._uU(4),e.qZA()),2&t&&(e.Q6J("ngIf",a.sender||a.date),e.xp6(2),e.hij(" ",a.quote," "),e.xp6(1),e.Q6J("message",a.message),e.xp6(1),e.hij(" ",a.message," "))},directives:[l.O5,S],pipes:[l.uU],encapsulation:2,changeDetection:0}),s})();class z{}const me=function(s){return[s]};let H=(()=>{class s{constructor(t){this.dateFormat="shortTime",this.mapKey=t.messageGoogleMapKey}get file(){return{url:`https://maps.googleapis.com/maps/api/staticmap?center=${this.latitude},${this.longitude}&zoom=12&size=400x400&key=${this.mapKey}`,type:"image/png",icon:"location"}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(z))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-map"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(t,a){1&t&&e._UZ(0,"nb-chat-message-file",0),2&t&&e.Q6J("files",e.VKq(5,me,a.file))("message",a.message)("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)},directives:[q],encapsulation:2,changeDetection:0}),s})();function pe(s,n){if(1&s&&e._UZ(0,"nb-chat-avatar",4),2&s){const t=e.oxw();e.Q6J("initials",t.getInitials())("avatarStyle",t.avatarStyle)}}function ue(s,n){if(1&s&&e._UZ(0,"nb-chat-message-file",10),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)("files",t.files)}}function ge(s,n){if(1&s&&e._UZ(0,"nb-chat-message-quote",11),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)("quote",t.quote)}}function he(s,n){if(1&s&&e._UZ(0,"nb-chat-message-map",12),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("message",t.message)("latitude",t.latitude)("longitude",t.longitude)}}function de(s,n){if(1&s&&e._UZ(0,"nb-chat-message-text",13),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)}}function fe(s,n){if(1&s&&(e.ynx(0,5),e.YNc(1,ue,1,5,"nb-chat-message-file",6),e.YNc(2,ge,1,5,"nb-chat-message-quote",7),e.YNc(3,he,1,5,"nb-chat-message-map",8),e.YNc(4,de,1,4,"nb-chat-message-text",9),e.BQk()),2&s){const t=e.oxw();e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","file"),e.xp6(1),e.Q6J("ngSwitchCase","quote"),e.xp6(1),e.Q6J("ngSwitchCase","map")}}function _e(s,n){if(1&s&&(e._UZ(0,"nb-chat-message-text",13),e.TgZ(1,"div"),e.GkF(2,14),e.qZA()),2&s){const t=e.oxw();e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message),e.xp6(1),e.ekj("nb-custom-message",t._areDefaultStylesEnabled())("nb-custom-message-no-space",t._addNoSpaceClass)("nb-custom-message-reply",t._addReplyClass)("nb-custom-message-not-reply",t._addNotReplyClass)("nb-custom-message-full-width",!t._areDefaultStylesEnabled()),e.xp6(1),e.Q6J("ngTemplateOutlet",t._getTemplate())("ngTemplateOutletContext",t._getTemplateContext())}}let d=(()=>{class s{constructor(t,a){this.domSanitizer=t,this.customMessageService=a,this.builtInMessageTypes=["text","file","map","quote"],this._reply=!1}get _addReplyClass(){return this._areDefaultStylesEnabled()&&this.reply}get _addNotReplyClass(){return this._areDefaultStylesEnabled()&&this.notReply}get _addNoSpaceClass(){return this._areDefaultStylesEnabled()&&!this.message}get flyInOut(){return!0}get notReply(){return!this.reply}get reply(){return this._reply}set reply(t){this._reply=(0,u.e)(t)}set avatar(t){this.avatarStyle=t?this.domSanitizer.bypassSecurityTrustStyle(`url(${t})`):null}getInitials(){return this.sender?this.sender.split(" ").map(a=>a.charAt(0)).splice(0,2).join("").toUpperCase():""}_isBuiltInMessageType(){return null==this.type||this.builtInMessageTypes.includes(this.type)}_getTemplate(){return this.getCustomMessage(this.type).templateRef}_getTemplateContext(){return{$implicit:this.customMessageData,isReply:this.reply}}_areDefaultStylesEnabled(){return!this.getCustomMessage(this.type).noStyles}getCustomMessage(t){const a=this.customMessageService.getInstance(t);if(!a)throw new Error(`nb-chat: Can't find template for custom type '${t}'. Make sure you provide it in the chat component with *nbCustomMessage='${t}'.`);return a}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.H7),e.Y36(E))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(t,a){2&t&&(e.d8E("@flyInOut",a.flyInOut),e.ekj("not-reply",a.notReply)("reply",a.reply))},inputs:{reply:"reply",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",avatar:"avatar",type:"type",customMessageData:"customMessageData"},decls:5,vars:3,consts:[[3,"initials","avatarStyle",4,"ngIf"],[1,"message"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["customTemplate",""],[3,"initials","avatarStyle"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,a){if(1&t&&(e.YNc(0,pe,1,2,"nb-chat-avatar",0),e.TgZ(1,"div",1),e.YNc(2,fe,5,4,"ng-container",2),e.qZA(),e.YNc(3,_e,3,16,"ng-template",null,3,e.W1O)),2&t){const o=e.MAs(4);e.Q6J("ngIf",a.notReply),e.xp6(2),e.Q6J("ngIf",a._isBuiltInMessageType())("ngIfElse",o)}},directives:[l.O5,R,l.RF,l.n9,l.ED,q,j,H,S,l.tP],encapsulation:2,data:{animation:[(0,v.X$)("flyInOut",[(0,v.SB)("in",(0,v.oB)({transform:"translateX(0)"})),(0,v.eR)("void => *",[(0,v.oB)({transform:"translateX(-100%)"}),(0,v.jt)(80)]),(0,v.eR)("* => void",[(0,v.jt)(80,(0,v.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),s})(),U=(()=>{class s{constructor(t){this.templateRef=t,this.context={}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.Rgc))},s.\u0275dir=e.lG2({type:s,selectors:[["","nbChatTitle",""]],inputs:{context:"context"}}),s})();var Ce=r(163);const ye=["scrollable"],be=function(s){return{$implicit:s}};function ve(s,n){if(1&s&&e.GkF(0,8),2&s){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.titleTemplate.templateRef)("ngTemplateOutletContext",e.VKq(2,be,t.titleTemplate.context))}}function Te(s,n){if(1&s&&e._uU(0),2&s){const t=e.oxw();e.hij(" ",t.title," ")}}function Me(s,n){if(1&s&&(e.TgZ(0,"p",9),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Oqu(t.noMessagesPlaceholder)}}const xe=[[["nb-chat-message"]],[["nb-chat-form"]]],we=["nb-chat-message","nb-chat-form"];let _=(()=>{class s{constructor(t){this.statusService=t,this.status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}get scrollBottom(){return this._scrollBottom}set scrollBottom(t){this._scrollBottom=(0,u.e)(t)}ngOnChanges(t){"status"in t&&this.updateFormStatus()}ngAfterContentInit(){this.updateFormStatus()}ngAfterViewInit(){this.messages.changes.subscribe(t=>{this.messages=t,this.updateView()}),this.updateView()}updateView(){this.scrollBottom&&this.scrollListBottom()}scrollListBottom(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight}updateFormStatus(){this.chatForm&&this.chatForm.setStatus(this.status)}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get success(){return"success"===this.status}get info(){return"info"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(Ce.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat"]],contentQueries:function(t,a,o){if(1&t&&(e.Suo(o,f,5),e.Suo(o,U,5),e.Suo(o,d,4)),2&t){let i;e.iGM(i=e.CRH())&&(a.chatForm=i.first),e.iGM(i=e.CRH())&&(a.titleTemplate=i.first),e.iGM(i=e.CRH())&&(a.messages=i)}},viewQuery:function(t,a){if(1&t&&e.Gf(ye,5),2&t){let o;e.iGM(o=e.CRH())&&(a.scrollable=o.first)}},hostVars:26,hostBindings:function(t,a){2&t&&(e.Tol(a.additionalClasses),e.ekj("size-tiny",a.tiny)("size-small",a.small)("size-medium",a.medium)("size-large",a.large)("size-giant",a.giant)("status-primary",a.primary)("status-success",a.success)("status-info",a.info)("status-warning",a.warning)("status-danger",a.danger)("status-basic",a.basic)("status-control",a.control))},inputs:{title:"title",size:"size",status:"status",noMessagesPlaceholder:"noMessagesPlaceholder",scrollBottom:"scrollBottom"},features:[e._Bn([E]),e.TTD],ngContentSelectors:we,decls:11,vars:3,consts:[[1,"header"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["textTitleTemplate",""],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-messages"]],template:function(t,a){if(1&t&&(e.F$t(xe),e.TgZ(0,"div",0),e.YNc(1,ve,1,4,"ng-container",1),e.YNc(2,Te,1,1,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"div",3,4),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,Me,2,1,"p",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.Hsn(10,1),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",a.titleTemplate)("ngIfElse",o),e.xp6(7),e.Q6J("ngIf",!(null!=a.messages&&a.messages.length))}},directives:[l.O5,l.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative;height:100%}"]}),s})(),$=(()=>{class s{constructor(t,a){this.templateRef=t,this.customMessageService=a,this._noStyles=!1}get nbCustomMessage(){return this._type}set nbCustomMessage(t){this._type=t}get type(){return this._type}set nbCustomMessageNoStyles(t){this._noStyles=(0,u.e)(t)}get nbCustomMessageNoStyles(){return this._noStyles}get noStyles(){return this.nbCustomMessageNoStyles}ngOnInit(){this._type||function(){throw new Error("[nbCustomMessage]: custom message type is required.")}(),this.customMessageService.register(this.type,this)}ngOnDestroy(){this.customMessageService.unregister(this.type)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.Rgc),e.Y36(E))},s.\u0275dir=e.lG2({type:s,selectors:[["","nbCustomMessage",""]],inputs:{nbCustomMessage:"nbCustomMessage",nbCustomMessageNoStyles:"nbCustomMessageNoStyles"}}),s})(),Ne=(()=>{class s{static forRoot(t){return{ngModule:s,providers:[{provide:z,useValue:t||{}}]}}static forChild(t){return{ngModule:s,providers:[{provide:z,useValue:t||{}}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[h.P,y.K,p.n,C.T]]}),s})();var De=r(5082),k=r(4301);function Se(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}function Ze(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,Se,1,7,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){const x=e.CHM(t).$implicit;return e.oxw().sendMessage(x.messages,o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.Q6J("title",t.title)("status",t.status),e.xp6(1),e.Q6J("ngForOf",t.messages)}}let Oe=(()=>{class s{constructor(){this.chats=[{status:"success",title:"Nebular Conversational UI Success",messages:[{text:"Success!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"danger",title:"Nebular Conversational UI Danger",messages:[{text:"Danger!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"primary",title:"Nebular Conversational UI Primary",messages:[{text:"Primary!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"info",title:"Nebular Conversational UI Info",messages:[{text:"Info!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"warning",title:"Nebular Conversational UI Warning",messages:[{text:"Warning!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}]}sendMessage(t,a){t.push({text:a.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-colors"]],decls:1,vars:1,consts:[["size","small",3,"title","status",4,"ngFor","ngForOf"],["size","small",3,"title","status"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&e.YNc(0,Ze,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[l.sg,_,f,d],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),s})();function Je(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}function Ie(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",!t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}let Ae=(()=>{class s{constructor(){this.messages=[]}sendMessage(t,a,o,i){const x=t.files?t.files.map(J=>({url:J.src,type:J.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,reply:i,type:x.length?"file":"text",files:x,user:{name:a,avatar:o}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-conversation-showcase"]],decls:6,vars:6,consts:[["title","Jake","size","medium","status","warning"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"showButton","dropFiles","send"],["title","John","size","medium","status","success"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,Je,1,10,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i,"Jake","http://www.reactiongifs.com/r/wnd1.gif",!0)}),e.qZA(),e.qZA(),e.TgZ(3,"nb-chat",3),e.YNc(4,Ie,1,10,"nb-chat-message",1),e.TgZ(5,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i,"John","https://i.gifer.com/no.gif",!1)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("showButton",!1)("dropFiles",!0),e.xp6(2),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("showButton",!1)("dropFiles",!0))},directives:[_,l.sg,f,d],styles:["nb-layout-column{display:flex;justify-content:center}[_nghost-%COMP%]{display:flex}nb-chat[_ngcontent-%COMP%]{width:300px;margin:1rem}"]}),s})();function Qe(s,n){if(1&s&&e._UZ(0,"nb-chat-message",3),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}let Be=(()=>{class s{constructor(){this.messages=[{text:"Drag & drop a file or a group of files.",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}]}sendMessage(t){const a=t.files?t.files.map(o=>({url:o.src,type:o.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,files:a,type:a.length?"file":"text",reply:!0,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-drop"]],decls:3,vars:2,consts:[["title","Drag & Drop chat","size","medium"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,Qe,1,7,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[_,l.sg,f,d],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;height:80vw}"]}),s})();const W=function(){return{url:"http://www.reactiongifs.com/r/wnd1.gif",type:"image/gif"}},P=function(s){return[s]},L=function(){return{url:"https://picsum.photos/320/240/?image=387",type:"image/jpeg"}},X=function(){return{url:"http://google.com",icon:"file-text-outline"}},Ee=function(s,n,t){return[s,n,t]};let qe=(()=>{class s{constructor(){this.date=new Date}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-type-showcase"]],decls:7,vars:35,consts:[["title","Message Types","size","large"],["message","Gif message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Image message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Map message","type","map","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","latitude","longitude"],["message","File message","type","file","sender","John Doe",3,"reply","date","files","avatar"],["message","Quote message","type","quote","sender","John Doe","quote","Quooted message here","avatar","https://i.gifer.com/no.gif",3,"reply","date"],["message","Group of files message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e._UZ(1,"nb-chat-message",1),e._UZ(2,"nb-chat-message",2),e._UZ(3,"nb-chat-message",3),e._UZ(4,"nb-chat-message",4),e._UZ(5,"nb-chat-message",5),e._UZ(6,"nb-chat-message",6),e.qZA()),2&t&&(e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(20,P,e.DdM(19,W))),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(23,P,e.DdM(22,L))),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("latitude",53.914321)("longitude",27.5998355),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(26,P,e.DdM(25,X)))("avatar","https://i.gifer.com/no.gif"),e.xp6(1),e.Q6J("reply",!0)("date",a.date),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.kEZ(31,Ee,e.DdM(28,X),e.DdM(29,L),e.DdM(30,W))))},directives:[_,d],styles:["nb-chat[_ngcontent-%COMP%]{margin:0 auto;width:500px}"]}),s})();const ze=[{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!1,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!0,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you?",reply:!1,date:new Date,user:{name:"John Doe",avatar:""}},{text:"Hey looks at that pic I just found!",reply:!1,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",type:"image/jpeg",icon:!1}],user:{name:"John Doe",avatar:""}},{text:"What do you mean by that?",reply:!1,date:new Date,type:"quote",quote:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",user:{name:"John Doe",avatar:""}},{text:"Attached is an archive I mentioned",reply:!0,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",icon:"file-text-outline"}],user:{name:"John Doe",avatar:""}},{text:"Meet me there",reply:!1,date:new Date,type:"map",latitude:40.714728,longitude:-73.998672,user:{name:"John Doe",avatar:""}}],T="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png",Z=["https://media.tenor.com/images/ac287fd06319e47b1533737662d5bfe8/tenor.gif","https://i.gifer.com/no.gif","https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif","http://www.reactiongifs.com/r/wnd1.gif"],O=["https://picsum.photos/320/240/?image=357","https://picsum.photos/320/240/?image=556","https://picsum.photos/320/240/?image=339","https://picsum.photos/320/240/?image=387","https://picsum.photos/320/240/?image=30","https://picsum.photos/320/240/?image=271"],G="http://google.com",Ue=[{regExp:/([H,h]ey)|([H,h]i)/g,answerArray:["Hello!","Yes?","Yes, milord?","What can I do for you?"],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:T}}},{regExp:/([H,h]elp)/g,answerArray:['No problem! Try sending a message containing word "hey", "image",\n    "gif", "file", "map", "quote", "file group" to see different message components'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:T}}},{regExp:/([I,i]mage)|(IMAGE)|([P,p]ic)|(Picture)/g,answerArray:["Hey look at this!","Ready to work","Yes, master."],type:"pic",reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/jpeg"}],user:{name:"Bot",avatar:T}}},{regExp:/([G,g]if)|(GIF)/g,type:"gif",answerArray:["No problem","Well done","You got it man"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/gif"}],user:{name:"Bot",avatar:T}}},{regExp:/([F,f]ile group)|(FILE)/g,type:"group",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:G,icon:"file-text-outline"},{url:"",type:"image/gif"},{url:"",type:"image/jpeg"}],icon:"file-text-outline",user:{name:"Bot",avatar:T}}},{regExp:/([F,f]ile)|(FILE)/g,type:"file",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:G,icon:"file-text-outline"}],icon:"file-text-outline",user:{name:"Bot",avatar:T}}},{regExp:/([M,m]ap)|(MAP)/g,type:"map",answerArray:["Done.","My sight is yours.","I shall be your eyes."],reply:{text:"",reply:!1,date:new Date,type:"map",latitude:53.914321,longitude:27.5998355,user:{name:"Bot",avatar:T}}},{regExp:/([Q,q]uote)|(QUOTE)/g,type:"quote",answerArray:["Quoted!","Say no more.","I gladly obey."],reply:{text:"",reply:!1,date:new Date,type:"quote",quote:"",user:{name:"Bot",avatar:T}}},{regExp:/(.*)/g,answerArray:['Hello there! Try typing "help"'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:T}}}];let Y=(()=>{class s{loadMessages(){return ze}loadBotReplies(){return Ue}reply(t){const a=this.loadBotReplies().find(o=>-1!==t.search(o.regExp));return"quote"===a.reply.type&&(a.reply.quote=t),"gif"===a.type&&(a.reply.files[0].url=Z[Math.floor(Math.random()*Z.length)]),"pic"===a.type&&(a.reply.files[0].url=O[Math.floor(Math.random()*O.length)]),"group"===a.type&&(a.reply.files[1].url=Z[Math.floor(Math.random()*Z.length)],a.reply.files[2].url=O[Math.floor(Math.random()*O.length)]),a.reply.text=a.answerArray[Math.floor(Math.random()*a.answerArray.length)],Object.assign({},a.reply)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();function Pe(s,n){if(1&s&&e._UZ(0,"nb-chat-message",3),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}let Ye=(()=>{class s{constructor(t){this.chatShowcaseService=t,this.messages=this.chatShowcaseService.loadMessages()}sendMessage(t){const a=t.files?t.files.map(i=>({url:i.src,type:i.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,reply:!0,type:a.length?"file":"text",files:a,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}});const o=this.chatShowcaseService.reply(t.message);o&&setTimeout(()=>{this.messages.push(o)},500)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-showcase"]],features:[e._Bn([Y])],decls:3,vars:2,consts:[["title","Nebular Conversational UI","size","large"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,Pe,1,10,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[_,l.sg,f,d],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),s})();function Re(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}function je(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,Re,1,7,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){const x=e.CHM(t).$implicit;return e.oxw().sendMessage(x.messages,o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.Q6J("title",t.title)("size",t.size),e.xp6(1),e.Q6J("ngForOf",t.messages)}}let He=(()=>{class s{constructor(){this.chats=[{title:"Nebular Conversational UI Small",messages:[{text:"Small!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}],size:"small"},{title:"Nebular Conversational UI Medium",messages:[{text:"Medium!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}],size:"large"}]}sendMessage(t,a){t.push({text:a.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-sizes"]],decls:1,vars:1,consts:[["status","info",3,"title","size",4,"ngFor","ngForOf"],["status","info",3,"title","size"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&e.YNc(0,je,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[l.sg,_,f,d],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),s})();function $e(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}function ke(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,$e,1,10,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){return e.CHM(t),e.oxw().sendMessage(o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit,a=e.oxw();e.Q6J("size",t.size)("status",t.status),e.xp6(1),e.Q6J("ngForOf",a.messages)}}let We=(()=>{class s{constructor(){this.messages=[],this.sizes=["tiny","small","medium","large","giant"],this.statuses=["primary","success","info","warning","danger"],this.chats=this.prepareChats()}prepareChats(){const t=[];return this.statuses.forEach(a=>{this.sizes.forEach(o=>{t.push({size:o,status:a})})}),t}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-test"]],decls:1,vars:1,consts:[[3,"size","status",4,"ngFor","ngForOf"],[3,"size","status"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&e.YNc(0,ke,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[l.sg,_,f,d],encapsulation:2}),s})();function Le(s,n){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function Xe(s,n){if(1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&s){const t=n.$implicit;e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.age)}}let Ge=(()=>{class s{constructor(){this.columns=[],this.rows=[]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-custom-message-table"]],hostVars:2,hostBindings:function(t,a){2&t&&e.ekj("reply",a.isReply)},inputs:{columns:"columns",rows:"rows",isReply:"isReply"},decls:6,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(t,a){1&t&&(e.TgZ(0,"table"),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.YNc(3,Le,2,1,"th",0),e.qZA(),e.qZA(),e.TgZ(4,"tbody"),e.YNc(5,Xe,7,3,"tr",0),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngForOf",a.columns),e.xp6(2),e.Q6J("ngForOf",a.rows))},directives:[l.sg],styles:["[_nghost-%COMP%]{display:block;margin-top:.5rem;padding:1rem;border-radius:.5rem}.reply[_nghost-%COMP%]{background:var(--background-basic-color-2)}[dir=ltr]   .reply[_nghost-%COMP%]{border-top-right-radius:0}[dir=rtl]   .reply[_nghost-%COMP%]{border-top-left-radius:0}[_nghost-%COMP%]:not(.reply){background:var(--background-primary-color-1);color:var(--text-control-color)}[dir=ltr]   [_nghost-%COMP%]:not(.reply){border-top-left-radius:0}[dir=rtl]   [_nghost-%COMP%]:not(.reply){border-top-right-radius:0}table[_ngcontent-%COMP%]{width:100%}"]}),s})();function Ke(s,n){if(1&s&&(e.TgZ(0,"a",7),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("href",t.href,e.LSH),e.xp6(1),e.hij(" ",t.text," ")}}function Ve(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"p",8),e._uU(2,"Wow! Button in a message!"),e.qZA(),e.TgZ(3,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(1).scrollListBottom()}),e._uU(4),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.xp6(4),e.hij(" ",t," ")}}function et(s,n){if(1&s&&e._UZ(0,"nb-custom-message-table",10),2&s){const t=n.$implicit,a=n.isReply;e.Q6J("columns",t.columns)("rows",t.rows)("isReply",a)}}function tt(s,n){if(1&s&&e._UZ(0,"nb-chat-message",11),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("customMessageData",t.customMessageData)}}function at(s,n){if(1&s&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.xp6(1),e.hij('Chat title content from template. Here is the text provided via context: "',t.text,'"')}}function nt(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}const ot=function(){return{text:"some text to pass into template"}},it=[{path:"chat-colors.component",component:Oe},{path:"chat-conversation-showcase.component",component:Ae},{path:"chat-drop.component",component:Be},{path:"chat-message-types-showcase.component",component:qe},{path:"chat-showcase.component",component:Ye},{path:"chat-sizes.component",component:He},{path:"chat-test.component",component:We},{path:"chat-custom-message.component",component:(()=>{class s{constructor(){this.tableData={columns:["First Name","Last Name","Age"],rows:[{firstName:"Robert",lastName:"Baratheon",age:46},{firstName:"Jaime",lastName:"Lannister",age:31}]},this.messages=[]}ngOnInit(){this.loadMessages()}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,type:"text",user:{name:"Gandalf the Grey",avatar:"https://i.gifer.com/no.gif"}})}loadMessages(){this.messages=[{type:"link",text:"Now you able to use links!",customMessageData:{href:"https://akveo.github.io/nebular/",text:"Go to Nebular"},reply:!1,date:new Date,user:{name:"Frodo Baggins",avatar:"https://i.gifer.com/no.gif"}},{type:"link",customMessageData:{href:"https://akveo.github.io/ngx-admin/",text:"Go to ngx-admin"},reply:!0,date:new Date,user:{name:"Meriadoc Brandybuck",avatar:"https://i.gifer.com/no.gif"}},{type:"button",customMessageData:"Click to scroll down",reply:!1,date:new Date,user:{name:"Gimli Gloin",avatar:""}},{type:"table",text:"Now let's try to add a table",customMessageData:this.tableData,reply:!1,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}},{type:"table",text:"And one more table but now in the reply",customMessageData:this.tableData,reply:!0,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}}]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],decls:7,vars:7,consts:[["title","Nebular Conversational UI","size","large",3,"scrollBottom"],["chatComponent",""],["target","_blank",3,"href",4,"nbCustomMessage"],[4,"nbCustomMessage"],[3,"columns","rows","isReply",4,"nbCustomMessage","nbCustomMessageNoStyles"],[3,"type","message","reply","sender","date","customMessageData",4,"ngFor","ngForOf"],[3,"dropFiles","send"],["target","_blank",3,"href"],[1,"text-control","button-custom-message-text"],["nbButton","","status","control",3,"click"],[3,"columns","rows","isReply"],[3,"type","message","reply","sender","date","customMessageData"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0,1),e.YNc(2,Ke,2,2,"a",2),e.YNc(3,Ve,5,1,"div",3),e.YNc(4,et,1,3,"nb-custom-message-table",4),e.YNc(5,tt,1,6,"nb-chat-message",5),e.TgZ(6,"nb-chat-form",6),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.Q6J("scrollBottom",!1),e.xp6(2),e.Q6J("nbCustomMessage","link"),e.xp6(1),e.Q6J("nbCustomMessage","button"),e.xp6(1),e.Q6J("nbCustomMessage","table")("nbCustomMessageNoStyles",!0),e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!1))},directives:[_,$,l.sg,f,b.D,Ge,d],styles:["nb-chat[_ngcontent-%COMP%]{width:500px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto}.button-custom-message-text[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),s})()},{path:"chat-template-title.component",component:(()=>{class s{constructor(){this.messages=[{text:"Custom template was provided as a title!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,user:{name:"John Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],features:[e._Bn([Y])],decls:4,vars:4,consts:[["size","small"],["nbChatTitle","",3,"context"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,at,2,1,"ng-template",1),e.YNc(2,nt,1,10,"nb-chat-message",2),e.TgZ(3,"nb-chat-form",3),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("context",e.DdM(3,ot)),e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[_,U,l.sg,f,d],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),s})()}];let rt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[k.Bz.forChild(it)],k.Bz]}),s})(),lt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[l.ez,Ne.forRoot(),De.z,C.T,rt]]}),s})()}}]);